<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.thinkgem.jeesite.modules.report.dao.DayReportDao">
	<sql id="dayReportColumns">
		a.*
	</sql>
	<!-- <select id="getWeakList" resultType="DayReport">
		SELECT
			<include refid="dayReportColumns"/>
		FROM report_day a
		WHERE TO_DAYS(NOW())-TO_DAYS(STR_TO_DATE(a.reportDate,'%Y-%m-%d')) <=7
	</select> -->
	
	<select id="getCollectReport" resultType="DayReport">
		SELECT
			<include refid="dayReportColumns"/>
		FROM report_day a
		WHERE a.del_flag = #{DEL_FLAG_NORMAL}
		<if test="officeId != null and officeId != ''">
			and a.officeId = #{officeId} 
		</if>
		<if test="reportDate != null and reportDate != ''">
			a.reportDate =  #{reportDate} 
		</if>
		
	</select>
	<select id="getRangeReport" resultType="DayReport">
		SELECT
			<include refid="dayReportColumns"/>
		FROM report_day a 
		WHERE a.officeId = #{officeId} and a.del_flag = #{delFlag}
		and STR_TO_DATE(a.reportDate,'%Y-%m-%d') <![CDATA[ >= ]]> STR_TO_DATE(#{startDate},'%Y-%m-%d')
		and STR_TO_DATE(a.reportDate,'%Y-%m-%d') <![CDATA[ <= ]]> STR_TO_DATE(#{endDate},'%Y-%m-%d')
	</select>
	<select id="get" resultType="DayReport">
		SELECT
			<include refid="dayReportColumns"/>
		FROM report_day a
		WHERE a.id = #{id}
	</select>
	<update id="delete">
		UPDATE report_day SET 
			del_flag = #{DEL_FLAG_DELETE}
		WHERE id = #{id}
	</update>
	<select id="findList" resultType="DayReport">
		SELECT 
			<include refid="dayReportColumns"/>
		FROM report_day a WHERE a.del_flag = #{DEL_FLAG_NORMAL}
		<if test="reportDate != null and reportDate != ''">
			and a.reportDate = #{reportDate}
		</if>
		<if test="officeId != null and officeId != ''">
			 and a.officeId = #{officeId}
		</if>
		<choose>
			<when test="page !=null and page.orderBy != null and page.orderBy != ''">
				ORDER BY a.reportDate
			</when>
			<otherwise>
				ORDER BY a.reportDate
			</otherwise>
		</choose>
	</select>
	
	<update id="update">
		UPDATE report_day SET 
			reportDate = #{reportDate},
			weather = #{weather},
			temperature = #{temperature},
			humidity = #{humidity},
			earlyWorker = #{earlyWorker},
			middleWorker = #{middleWorker},
			lastWorker = #{lastWorker},
			dwt1 = #{dwt1},
			dwt2 = #{dwt2},
			sq1 = #{sq1},
			sq2 = #{sq2},
			meter = #{meter},
			electricity = #{electricity},
			waterMeter = #{waterMeter},
			water = #{water},
			pac = #{pac},
			ipra = #{ipra},
			pam1 = #{pam1},
			pam2 = #{pam2},
			disin = #{disin},
			disin2 = #{disin2},
			disin3 = #{disin3},
			stopwatertime = #{stopwatertime},
			stopreason = #{stopreason},
			recoverytime = #{recoverytime},
			reportDesc = #{reportDesc},
			cod1 = #{cod1},
			cod2 = #{cod2},
			cod3 = #{cod3},
			cod4 = #{cod4},
			cod5 = #{cod5},
			cod6 = #{cod6},
			cod7 = #{cod7},
			cod8 = #{cod8},
			an1 = #{an1},
			an2 = #{an2},
			an3 = #{an3},
			an4 = #{an4},
			an5 = #{an5},
			an6 = #{an6},
			an7 = #{an7},
			an8 = #{an8},
			tn1 = #{tn1},
			tn2 = #{tn2},
			tn3 = #{tn3},
			tn4 = #{tn4},
			tn5 = #{tn5},
			tn6 = #{tn6},
			tn7 = #{tn7},
			tn8 = #{tn8},
			tp1 = #{tp1},
			tp2 = #{tp2},
			tp3 = #{tp3},
			tp4 = #{tp4},
			tp5 = #{tp5},
			tp6 = #{tp6},
			tp7 = #{tp7},
			tp8 = #{tp8},
			stss1 = #{stss1},
			stss2 = #{stss2},
			stss3 = #{stss3},
			stss4 = #{stss4},
			stss5 = #{stss5},
			stss6 = #{stss6},
			stss7 = #{stss7},
			stss8 = #{stss8},
			sttp1 = #{sttp1},
			sttp2 = #{sttp2},
			sttp3 = #{sttp3},
			sttp4 = #{sttp4},
			sttp5 = #{sttp5},
			sttp6 = #{sttp6},
			sttp7 = #{sttp7},
			sttp8 = #{sttp8},
			color1 = #{color1},
			color2 = #{color2},
			color3 = #{color3},
			color4 = #{color4},
			color5 = #{color5},
			color6 = #{color6},
			color7 = #{color7},
			color8 = #{color8},
			smell1 = #{smell1},
			smell2 = #{smell2},
			smell3 = #{smell3},
			smell4 = #{smell4},
			smell5 = #{smell5},
			smell6 = #{smell6},
			smell7 = #{smell7},
			smell8 = #{smell8},
			pumpFirst1 = #{pumpFirst1},
			pumpFirst2 = #{pumpFirst2},
			pumpFirst3 = #{pumpFirst3},
			pumpFirst4 = #{pumpFirst4},
			pumpFirst5 = #{pumpFirst5},
			pumpFirst6 = #{pumpFirst6},
			pumpFirst7 = #{pumpFirst7},
			pumpSecond1 = #{pumpSecond1},
			pumpSecond2 = #{pumpSecond2},
			pumpSecond3 = #{pumpSecond3},
			pumpSecond4 = #{pumpSecond4},
			pumpSecond5 = #{pumpSecond5},
			pumpSecond6 = #{pumpSecond6},
			pumpSecond7 = #{pumpSecond7},
			pumpThird1 = #{pumpThird1},
			pumpThird2 = #{pumpThird2},
			pumpThird3 = #{pumpThird3},
			pumpThird4 = #{pumpThird4},
			pumpThird5 = #{pumpThird5},
			pumpThird6 = #{pumpThird6},
			pumpThird7 = #{pumpThird7},
			stsos1 = #{stsos1},
			stsos2 = #{stsos2},
			stsos3 = #{stsos3},
			stsos4 = #{stsos4},
			stsos5 = #{stsos5},
			stsos6 = #{stsos6},
			stsos7 = #{stsos7},
			lamp1 = #{lamp1},
			lamp2 = #{lamp2},
			lamp3 = #{lamp3},
			lamp4 = #{lamp4},
			lamp5 = #{lamp5},
			lamp6 = #{lamp6},
			lamp7 = #{lamp7},
			pmm1 = #{pmm1},
			pmm2 = #{pmm2},
			pmm3 = #{pmm3},
			pmm4 = #{pmm4},
			pmm5 = #{pmm5},
			pmm6 = #{pmm6},
			pmm7 = #{pmm7},
			sv30 = #{sv30},
			sludge = #{sludge},
			oxygen = #{oxygen},
			mixture = #{mixture},
			reflux = #{reflux},
			conditionDesc = #{conditionDesc},
			lt60 = #{lt60},
			g6l12 = #{g6l12},
			g12l18 = #{g12l18},
			gt180 = #{gt180},
			equipment = #{equipment},
			instrument = #{instrument},
			handicraft = #{handicraft},
			problem = #{problem}, 
			update_date = #{updateDate}
		WHERE id = #{id}
	</update>
	<insert id="insert">
		INSERT INTO report_day(
			officeId,
			reportDate,
			weather,
			temperature,
			humidity,
			earlyWorker,
			middleWorker,
			lastWorker,
			dwt1,
			dwt2,
			sq1,
			sq2,
			meter,
			electricity,
			waterMeter,
			water,
			pac,
			ipra,
			pam1,
			pam2,
			disin,
			disin2,
			disin3,
			stopwatertime,
			stopreason,
			recoverytime,
			reportDesc,
			cod1,
			cod2,
			cod3,
			cod4,
			cod5,
			cod6,
			cod7,
			cod8,
			an1,
			an2,
			an3,
			an4,
			an5,
			an6,
			an7,
			an8,
			tn1,
			tn2,
			tn3,
			tn4,
			tn5,
			tn6,
			tn7,
			tn8,
			tp1,
			tp2,
			tp3,
			tp4,
			tp5,
			tp6,
			tp7,
			tp8,
			stss1,
			stss2,
			stss3,
			stss4,
			stss5,
			stss6,
			stss7,
			stss8,
			sttp1,
			sttp2,
			sttp3,
			sttp4,
			sttp5,
			sttp6,
			sttp7,
			sttp8,
			color1,
			color2,
			color3,
			color4,
			color5,
			color6,
			color7,
			color8,
			smell1,
			smell2,
			smell3,
			smell4,
			smell5,
			smell6,
			smell7,
			smell8,
			pumpFirst1,
			pumpFirst2,
			pumpFirst3,
			pumpFirst4,
			pumpFirst5,
			pumpFirst6,
			pumpFirst7,
			pumpSecond1,
			pumpSecond2,
			pumpSecond3,
			pumpSecond4,
			pumpSecond5,
			pumpSecond6,
			pumpSecond7,
			pumpThird1,
			pumpThird2,
			pumpThird3,
			pumpThird4,
			pumpThird5,
			pumpThird6,
			pumpThird7,
			stsos1,
			stsos2,
			stsos3,
			stsos4,
			stsos5,
			stsos6,
			stsos7,
			lamp1,
			lamp2,
			lamp3,
			lamp4,
			lamp5,
			lamp6,
			lamp7,
			pmm1,
			pmm2,
			pmm3,
			pmm4,
			pmm5,
			pmm6,
			pmm7,
			sv30,
			sludge,
			oxygen,
			mixture,
			reflux,
			conditionDesc,
			lt60,
			g6l12,
			g12l18,
			gt180,
			equipment,
			instrument,
			handicraft,
			problem,
			CREATE_BY,
			CREATE_DATE,
			UPDATE_BY,
			UPDATE_DATE,
			REMARKS,
			DEL_FLAG
		) VALUES (
			#{officeId},
			#{reportDate},
			#{weather},
			#{temperature},
			#{humidity},
			#{earlyWorker},
			#{middleWorker},
			#{lastWorker},
			#{dwt1},
			#{dwt2},
			#{sq1},
			#{sq2},
			#{meter},
			#{electricity},
			#{waterMeter},
			#{water},
			#{pac},
			#{ipra},
			#{pam1},
			#{pam2},
			#{disin},
			#{disin2},
			#{disin3},
			#{stopwatertime},
			#{stopreason},
			#{recoverytime},
			#{reportDesc},
			#{cod1},
			#{cod2},
			#{cod3},
			#{cod4},
			#{cod5},
			#{cod6},
			#{cod7},
			#{cod8},
			#{an1},
			#{an2},
			#{an3},
			#{an4},
			#{an5},
			#{an6},
			#{an7},
			#{an8},
			#{tn1},
			#{tn2},
			#{tn3},
			#{tn4},
			#{tn5},
			#{tn6},
			#{tn7},
			#{tn8},
			#{tp1},
			#{tp2},
			#{tp3},
			#{tp4},
			#{tp5},
			#{tp6},
			#{tp7},
			#{tp8},
			#{stss1},
			#{stss2},
			#{stss3},
			#{stss4},
			#{stss5},
			#{stss6},
			#{stss7},
			#{stss8},
			#{sttp1},
			#{sttp2},
			#{sttp3},
			#{sttp4},
			#{sttp5},
			#{sttp6},
			#{sttp7},
			#{sttp8},
			#{color1},
			#{color2},
			#{color3},
			#{color4},
			#{color5},
			#{color6},
			#{color7},
			#{color8},
			#{smell1},
			#{smell2},
			#{smell3},
			#{smell4},
			#{smell5},
			#{smell6},
			#{smell7},
			#{smell8},
			#{pumpFirst1},
			#{pumpFirst2},
			#{pumpFirst3},
			#{pumpFirst4},
			#{pumpFirst5},
			#{pumpFirst6},
			#{pumpFirst7},
			#{pumpSecond1},
			#{pumpSecond2},
			#{pumpSecond3},
			#{pumpSecond4},
			#{pumpSecond5},
			#{pumpSecond6},
			#{pumpSecond7},
			#{pumpThird1},
			#{pumpThird2},
			#{pumpThird3},
			#{pumpThird4},
			#{pumpThird5},
			#{pumpThird6},
			#{pumpThird7},
			#{stsos1},
			#{stsos2},
			#{stsos3},
			#{stsos4},
			#{stsos5},
			#{stsos6},
			#{stsos7},
			#{lamp1},
			#{lamp2},
			#{lamp3},
			#{lamp4},
			#{lamp5},
			#{lamp6},
			#{lamp7},
			#{pmm1},
			#{pmm2},
			#{pmm3},
			#{pmm4},
			#{pmm5},
			#{pmm6},
			#{pmm7},
			#{sv30},
			#{sludge},
			#{oxygen},
			#{mixture},
			#{reflux},
			#{conditionDesc},
			#{lt60},
			#{g6l12},
			#{g12l18},
			#{gt180},
			#{equipment},
			#{instrument},
			#{handicraft},
			#{problem},
			#{createBy.id},
			#{createDate},
			#{updateBy.id},
			#{updateDate},
			#{remarks},
			#{delFlag}
		)
	</insert>
</mapper>